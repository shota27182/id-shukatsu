/*!
 * froala_editor v3.2.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(e.FroalaEditor)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e,Object.assign(e.DEFAULTS,{quickInsertButtons:["image","video","embedly","table","ul","ol","hr"],quickInsertTags:["p","div","h1","h2","h3","h4","h5","h6","pre","blockquote"],quickInsertEnabled:!0}),e.QUICK_INSERT_BUTTONS={},e.DefineIcon("quickInsert",{SVG_KEY:"add",template:"svg"}),e.RegisterQuickInsertButton=function(t,n){e.QUICK_INSERT_BUTTONS[t]=Object.assign({undo:!0},n)},e.RegisterQuickInsertButton("image",{icon:"insertImage",requiredPlugin:"image",title:"Insert Image",undo:!1,callback:function(){var e=this,t=e.$;e.shared.$qi_image_input||(e.shared.$qi_image_input=t(document.createElement("input")).attr("accept","image/"+e.opts.imageAllowedTypes.join(", image/").toLowerCase()).attr("name","quickInsertImage".concat(this.id)).attr("style","display: none;").attr("type","file"),t("body").first().append(e.shared.$qi_image_input),e.events.$on(e.shared.$qi_image_input,"change",function(){var e=t(this).data("inst");this.files&&(e.quickInsert.hide(),e.image.upload(this.files)),t(this).val("")},!0)),e.$qi_image_input=e.shared.$qi_image_input,e.helpers.isMobile()&&e.selection.save(),e.events.disableBlur(),e.$qi_image_input.data("inst",e)[0].click()}}),e.RegisterQuickInsertButton("video",{icon:"insertVideo",requiredPlugin:"video",title:"Insert Video",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of the video you want to insert."));e&&this.video.insertByURL(e)}}),e.RegisterQuickInsertButton("embedly",{icon:"embedly",requiredPlugin:"embedly",title:"Embed URL",undo:!1,callback:function(){var e=prompt(this.language.translate("Paste the URL of any web content you want to insert."));e&&this.embedly.add(e)}}),e.RegisterQuickInsertButton("table",{icon:"insertTable",requiredPlugin:"table",title:"Insert Table",callback:function(){this.table.insert(2,2)}}),e.RegisterQuickInsertButton("ol",{icon:"formatOL",requiredPlugin:"lists",title:"Ordered List",callback:function(){this.lists.format("OL")}}),e.RegisterQuickInsertButton("ul",{icon:"formatUL",requiredPlugin:"lists",title:"Unordered List",callback:function(){this.lists.format("UL")}}),e.RegisterQuickInsertButton("hr",{icon:"insertHR",title:"Insert Horizontal Line",callback:function(){this.commands.insertHR()}}),e.PLUGINS.quickInsert=function(t){function n(n){var i,s,o;if(i=n.offset().top-t.$box.offset().top,s=(t.$iframe&&t.$iframe.offset().left||0)+n.offset().left<c.outerWidth()?n.offset().left+c.outerWidth():0-c.outerWidth(),t.opts.enter!=e.ENTER_BR?o=(c.outerHeight()-n.outerHeight())/2:(d(document.createElement("span")).html(e.INVISIBLE_SPACE).insertAfter(n),o=(c.outerHeight()-n.next().outerHeight())/2,n.next().remove()),t.opts.iframe){var l=t.helpers.getPX(t.$wp.find(".fr-iframe").css("padding-top"));i+=t.$iframe.offset().top+l}c.hasClass("fr-on")&&0<=i&&u.css("top",i-o),0<=i&&i-Math.abs(o)<=t.$box.outerHeight()-n.outerHeight()?(c.hasClass("fr-hidden")&&(c.hasClass("fr-on")&&r(),c.removeClass("fr-hidden")),c.css("top",i-o)):c.hasClass("fr-visible")&&(c.addClass("fr-hidden"),a()),c.css("left",s)}function i(i){c||(t.shared.$quick_insert||(t.shared.$quick_insert=d(document.createElement("div")).attr("class","fr-quick-insert").html('<a class="fr-floating-btn" role="button" tabIndex="-1" title="'.concat(t.language.translate("Quick Insert"),'">').concat(t.icon.create("quickInsert"),"</a>"))),c=t.shared.$quick_insert,t.tooltip.bind(t.$box,".fr-quick-insert > a.fr-floating-btn"),t.events.on("destroy",function(){d("body").first().append(c.removeClass("fr-on")),u&&(a(),d("body").first().append(u.css("left",-9999).css("top",-9999)))},!0),t.events.on("shared.destroy",function(){c.html("").removeData().remove(),c=null,u&&(u.html("").removeData().remove(),u=null)},!0),t.events.on("commands.before",o),t.events.on("commands.after",function(){t.popups.areVisible()||s()}),t.events.bindClick(t.$box,".fr-quick-insert > a",r),t.events.bindClick(t.$box,".fr-qi-helper > a.fr-btn",function(n){var i=d(n.currentTarget).data("cmd");if(!1===t.events.trigger("quickInsert.commands.before",[i]))return!1;e.QUICK_INSERT_BUTTONS[i].callback.apply(t,[n.currentTarget]),e.QUICK_INSERT_BUTTONS[i].undo&&t.undo.saveStep(),t.events.trigger("quickInsert.commands.after",[i]),t.quickInsert.hide()}),t.events.$on(t.$wp,"scroll",l),t.events.$on(t.$tb,"transitionend",".fr-more-toolbar",l)),c.hasClass("fr-on")&&a(),t.$box.append(c),n(i),c.data("tag",i),c.addClass("fr-visible")}function s(){if(t.core.hasFocus()){var n=t.selection.element();if(t.opts.enter==e.ENTER_BR||t.node.isBlock(n)||(n=t.node.blockParent(n)),t.opts.enter==e.ENTER_BR&&!t.node.isBlock(n)){var s=t.node.deepestParent(n);s&&(n=s)}var r=function(){return t.opts.enter==e.ENTER_BR&&("BR"==n.tagName&&(!n.previousSibling||"BR"==n.previousSibling.tagName||t.node.isBlock(n.previousSibling))||t.node.isEmpty(n)&&(!n.previousSibling||"BR"==n.previousSibling.tagName||t.node.isBlock(n.previousSibling))&&(!n.nextSibling||"BR"==n.nextSibling.tagName||t.node.isBlock(n.nextSibling)))};n&&(function(){return t.opts.enter!=e.ENTER_BR&&t.node.isEmpty(n)&&0<=t.opts.quickInsertTags.indexOf(n.tagName.toLowerCase())}()||r())?c&&c.data("tag").is(d(n))&&c.hasClass("fr-on")?a():t.selection.isCollapsed()&&i(d(n)):o()}}function o(){c&&(c.hasClass("fr-on")&&a(),c.removeClass("fr-visible fr-on"),c.css("left",-9999).css("top",-9999))}function r(n){if(n&&n.preventDefault(),c.hasClass("fr-on")&&!c.hasClass("fr-hidden"))a();else{if(!t.shared.$qi_helper){for(var i=t.opts.quickInsertButtons,s='<div class="fr-qi-helper">',o=0,r=0;r<i.length;r++){var l=e.QUICK_INSERT_BUTTONS[i[r]];l&&(!l.requiredPlugin||e.PLUGINS[l.requiredPlugin]&&0<=t.opts.pluginsEnabled.indexOf(l.requiredPlugin))&&(s+='<a class="fr-btn fr-floating-btn" role="button" title="'.concat(t.language.translate(l.title),'" tabIndex="-1" data-cmd="').concat(i[r],'" style="transition-delay: ').concat(.025*o++,'s;">').concat(t.icon.create(l.icon),"</a>"))}s+="</div>",t.shared.$qi_helper=d(s),t.tooltip.bind(t.shared.$qi_helper,"a.fr-btn"),t.events.$on(t.shared.$qi_helper,"mousedown",function(e){e.preventDefault()},!0)}u=t.shared.$qi_helper,t.$box.append(u),setTimeout(function(){u.css("top",parseFloat(c.css("top"))),u.css("left",parseFloat(c.css("left"))+c.outerWidth()),u.find("a").addClass("fr-size-1"),c.addClass("fr-on")},10)}}function a(){var e=t.$box.find(".fr-qi-helper");e.length&&function(){for(var t=e.find("a"),n=0;n<t.length;n++)!function(n){setTimeout(function(){e.children().eq(t.length-1-n).removeClass("fr-size-1")},25*n)}(n);setTimeout(function(){e.css("left",-9999),c&&!c.hasClass("fr-hidden")&&c.removeClass("fr-on")},25*n)}()}function l(){c.hasClass("fr-visible")&&n(c.data("tag"))}var c,u,d=t.$;return{_init:function(){if(!t.$wp||!t.opts.quickInsertEnabled)return!1;t.popups.onShow("image.edit",o),t.events.on("mouseup",s),t.helpers.isMobile()&&t.events.$on(d(t.o_doc),"selectionchange",s),t.events.on("blur",o),t.events.on("keyup",s),t.events.on("keydown",function(){setTimeout(function(){s()},0)})},hide:o}}});