/*!
 * froala_editor v3.2.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(e.FroalaEditor)}(this,function(e){"use strict";(e=e&&e.hasOwnProperty("default")?e["default"]:e).URLRegEx="(^| |\\u00A0)(".concat(e.LinkRegEx,"|([a-z0-9+-_.]{1,}@[a-z0-9+-_.]{1,}\\.[a-z0-9+-_]{1,}))$"),e.PLUGINS.url=function(t){function n(e,n,r){for(var o="";r.length&&"."==r[r.length-1];)o+=".",r=r.substring(0,r.length-1);var a=r;if(t.opts.linkConvertEmailAddress)t.helpers.isEmail(a)&&!/^mailto:.*/i.test(a)&&(a="mailto:".concat(a));else if(t.helpers.isEmail(a))return n+r;return/^((http|https|ftp|ftps|mailto|tel|sms|notes|data)\:)/i.test(a)||(a="//".concat(a)),(n||"")+"<a".concat(t.opts.linkAlwaysBlank?' target="_blank"':"").concat(l?' rel="'.concat(l,'"'):"",' data-fr-linked="true" href="').concat(a,'">').concat(r.replace(/&amp;/g,"&").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"</a>").concat(o)}function r(e){return t.opts.linkAlwaysNoFollow&&(l="nofollow"),t.opts.linkAlwaysBlank&&(t.opts.linkNoOpener&&(l?l+=" noopener":l="noopener"),t.opts.linkNoReferrer&&(l?l+=" noreferrer":l="noreferrer")),e.replace(s(),n)}function o(e){var t=e.split(" ");return t[t.length-1]}function a(){var e=t.selection.ranges(0),n=e.startContainer;if(!n||n.nodeType!==Node.TEXT_NODE||e.startOffset!==(n.textContent||"").length)return!1;if(function p(e){return!!e&&("A"===e.tagName||!(!e.parentNode||e.parentNode==t.el)&&p(e.parentNode))}(n))return!1;if(s().test(o(n.textContent))){i(n).before(r(n.textContent));var a=i(n.parentNode).find("a[data-fr-linked]");a.removeAttr("data-fr-linked"),n.parentNode.removeChild(n),t.events.trigger("url.linked",[a.get(0)])}else if(n.textContent.split(" ").length<=2&&n.previousSibling&&"A"===n.previousSibling.tagName){var l=n.previousSibling.innerText+n.textContent;s().test(o(l))&&(i(n.previousSibling).replaceWith(r(l)),n.parentNode.removeChild(n))}}var i=t.$,l=null,s=function(){return new RegExp(e.URLRegEx,"gi")};return{_init:function(){t.events.on("keypress",function(e){!t.selection.isCollapsed()||"."!=e.key&&")"!=e.key&&"("!=e.key||a()},!0),t.events.on("keydown",function(n){var r=n.which;!t.selection.isCollapsed()||r!=e.KEYCODE.ENTER&&r!=e.KEYCODE.SPACE||a()},!0),t.events.on("paste.beforeCleanup",function(e){if(t.helpers.isURL(e)){var n=null;return t.opts.linkAlwaysBlank&&(t.opts.linkNoOpener&&(n?n+=" noopener":n="noopener"),t.opts.linkNoReferrer&&(n?n+=" noreferrer":n="noreferrer")),"<a".concat(t.opts.linkAlwaysBlank?' target="_blank"':"").concat(n?' rel="'.concat(n,'"'):"",' href="').concat(e,'" >').concat(e,"</a>")}})}}}});