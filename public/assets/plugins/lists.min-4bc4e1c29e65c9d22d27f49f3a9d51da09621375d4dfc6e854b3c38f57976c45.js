/*!
 * froala_editor v3.2.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(e.FroalaEditor)}(this,function(e){"use strict";e=e&&e.hasOwnProperty("default")?e["default"]:e,Object.assign(e.DEFAULTS,{listAdvancedTypes:!0}),e.PLUGINS.lists=function(t){function a(e){return'<span class="fr-open-'.concat(e.toLowerCase(),'"></span>')}function n(e){return'<span class="fr-close-'.concat(e.toLowerCase(),'"></span>')}function r(e,a){!function(e,a){for(var n=[],r=0;r<e.length;r++){var o=e[r].parentNode;"LI"==e[r].tagName&&o.tagName!=a&&n.indexOf(o)<0&&n.push(o)}for(var i=n.length-1;0<=i;i--){var s=c(n[i]);s.replaceWith("<".concat(a.toLowerCase()," ").concat(t.node.attributes(s.get(0)),">").concat(s.html(),"</").concat(a.toLowerCase(),">"))}}(e,a);var n,r=t.html.defaultTag(),o=null;e.length&&(n="rtl"==t.opts.direction||"rtl"==c(e[0]).css("direction")?"margin-right":"margin-left");for(var i=0;i<e.length;i++)if("TD"!=e[i].tagName&&"TH"!=e[i].tagName&&"LI"!=e[i].tagName){var s=t.helpers.getPX(c(e[i]).css(n))||0;(e[i].style.marginLeft=null)===o&&(o=s);var l=0<o?"<".concat(a,' style="').concat(n,": ").concat(o,'px ">'):"<".concat(a,">"),f="</".concat(a,">");for(s-=o;0<s/t.opts.indentMargin;)l+="</".concat(a,">"),f+=f,s-=t.opts.indentMargin;r&&e[i].tagName.toLowerCase()==r?c(e[i]).replaceWith("".concat(l,"<li").concat(t.node.attributes(e[i]),">").concat(c(e[i]).html(),"</li>").concat(f)):c(e[i]).wrap("".concat(l,"<li></li>").concat(f))}t.clean.lists()}function o(e){var r,o;for(r=e.length-1;0<=r;r--)for(o=r-1;0<=o;o--)if(c(e[o]).find(e[r]).length||e[o]==e[r]){e.splice(r,1);break}var i=[];for(r=0;r<e.length;r++){var s=c(e[r]),l=e[r].parentNode,f=s.attr("class");if(s.before(n(l.tagName)),"LI"==l.parentNode.tagName)s.before(n("LI")),s.after(a("LI"));else{var p="";f&&(p+=' class="'.concat(f,'"'));var d="rtl"==t.opts.direction||"rtl"==s.css("direction")?"margin-right":"margin-left";t.helpers.getPX(c(l).css(d))&&0<=(c(l).attr("style")||"").indexOf("".concat(d,":"))&&(p+=' style="'.concat(d,":").concat(t.helpers.getPX(c(l).css(d)),'px;"')),t.html.defaultTag()&&0===s.find(t.html.blockTagsQuery()).length&&s.wrapInner(t.html.defaultTag()+p),t.node.isEmpty(s.get(0),!0)||0!==s.find(t.html.blockTagsQuery()).length||s.append("<br>"),s.append(a("LI")),s.prepend(n("LI"))}s.after(a(l.tagName)),"LI"==l.parentNode.tagName&&(l=l.parentNode.parentNode),i.indexOf(l)<0&&i.push(l)}for(r=0;r<i.length;r++){var g=c(i[r]),m=g.html();m=(m=m.replace(/<span class="fr-close-([a-z]*)"><\/span>/g,"</$1>")).replace(/<span class="fr-open-([a-z]*)"><\/span>/g,"<$1>"),g.replaceWith(t.node.openTagString(g.get(0))+m+t.node.closeTagString(g.get(0)))}t.$el.find("li:empty").remove(),t.$el.find("ul:empty, ol:empty").remove(),t.clean.lists(),t.html.wrap()}function i(e){t.selection.save();for(var a=0;a<e.length;a++){var n=e[a].previousSibling;if(n){var r=c(e[a]).find("> ul, > ol").last().get(0);if(r){var o=c(document.createElement("li"));c(r).prepend(o);for(var i=t.node.contents(e[a])[0];i&&!t.node.isList(i);){var s=i.nextSibling;o.append(i),i=s}c(n).append(c(r)),c(e[a]).remove()}else{var l=c(n).find("> ul, > ol").last().get(0);if(l)c(l).append(c(e[a]));else{var f=c("<".concat(e[a].parentNode.tagName,">"));c(n).append(f),f.append(c(e[a]))}}}}t.clean.lists(),t.selection.restore()}function s(e){t.selection.save(),o(e),t.selection.restore()}function l(e){if("indent"==e||"outdent"==e){var a=!1,n=t.selection.blocks(),r=[],o=n[0].previousSibling||n[0].parentElement;if("outdent"==e){if("LI"==o.tagName||"LI"!=o.parentNode.tagName)return}else if(!n[0].previousSibling||"LI"!=n[0].previousSibling.tagName)return;for(var l=0;l<n.length;l++)"LI"==n[l].tagName?(a=!0,r.push(n[l])):"LI"==n[l].parentNode.tagName&&(a=!0,r.push(n[l].parentNode));a&&("indent"==e?i(r):s(r))}}var c=t.$;return{_init:function(){t.events.on("commands.after",l),t.events.on("keydown",function(a){if(a.which==e.KEYCODE.TAB){for(var n=t.selection.blocks(),r=[],o=0;o<n.length;o++)"LI"==n[o].tagName?r.push(n[o]):"LI"==n[o].parentNode.tagName&&r.push(n[o].parentNode);if(1<r.length||r.length&&(t.selection.info(r[0]).atStart||t.node.isEmpty(r[0])))return a.preventDefault(),a.stopPropagation(),a.shiftKey?s(r):i(r),!1}},!0)},format:function(e,a){var n,i;for(t.html.syncInputs(),t.selection.save(),t.html.wrap(!0,!0,!0,!0),t.selection.restore(),i=t.selection.blocks(),n=0;n<i.length;n++)"LI"!=i[n].tagName&&"LI"==i[n].parentNode.tagName&&(i[n]=i[n].parentNode);if(t.selection.save(),function(e,t){for(var a=!0,n=0;n<e.length;n++){if("LI"!=e[n].tagName)return!1;e[n].parentNode.tagName!=t&&(a=!1)}return a}(i,e)?a||o(i):r(i,e),t.html.unwrap(),t.selection.restore(),a=a||"default"){for(i=t.selection.blocks(),n=0;n<i.length;n++)"LI"!=i[n].tagName&&"LI"==i[n].parentNode.tagName&&(i[n]=i[n].parentNode);for(n=0;n<i.length;n++)"LI"==i[n].tagName&&(c(i[n].parentNode).css("list-style-type","default"===a?"":a),0===(c(i[n].parentNode).attr("style")||"").length&&c(i[n].parentNode).removeAttr("style"))}},refresh:function(e,a){var n=c(t.selection.element());if(n.get(0)!=t.el){var r=n.get(0);(r="LI"!=r.tagName&&r.firstElementChild&&"LI"!=r.firstElementChild.tagName?n.parents("li").get(0):"LI"==r.tagName||r.firstElementChild?r.firstElementChild&&"LI"==r.firstElementChild.tagName?n.get(0).firstChild:n.get(0):n.parents("li").get(0))&&r.parentNode.tagName==a&&t.el.contains(r.parentNode)&&e.addClass("fr-active")}}}},e.DefineIcon("formatOLSimple",{NAME:"list-ol",SVG_KEY:"orderedList"}),e.RegisterCommand("formatOLSimple",{title:"Ordered List",type:"button",options:{"default":"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(e){this.lists.refresh(e,"OL")},callback:function(e,t){this.lists.format("OL",t)},plugin:"lists"}),e.RegisterCommand("formatUL",{title:"Unordered List",type:"button",hasOptions:function(){return this.opts.listAdvancedTypes},options:{"default":"Default",circle:"Circle",disc:"Disc",square:"Square"},refresh:function(e){this.lists.refresh(e,"UL")},callback:function(e,t){this.lists.format("UL",t)},plugin:"lists"}),e.RegisterCommand("formatOL",{title:"Ordered List",hasOptions:function(){return this.opts.listAdvancedTypes},options:{"default":"Default","lower-alpha":"Lower Alpha","lower-greek":"Lower Greek","lower-roman":"Lower Roman","upper-alpha":"Upper Alpha","upper-roman":"Upper Roman"},refresh:function(e){this.lists.refresh(e,"OL")},callback:function(e,t){this.lists.format("OL",t)},plugin:"lists"}),e.DefineIcon("formatUL",{NAME:"list-ul",SVG_KEY:"unorderedList"}),e.DefineIcon("formatOL",{NAME:"list-ol",SVG_KEY:"orderedList"})});