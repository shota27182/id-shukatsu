/*!
 * froala_editor v3.2.0 (https://www.froala.com/wysiwyg-editor)
 * License https://froala.com/wysiwyg-editor/terms/
 * Copyright 2014-2020 Froala Labs
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(require("froala-editor")):"function"==typeof define&&define.amd?define(["froala-editor"],t):t(e.FroalaEditor)}(this,function(e){"use strict";(e=e&&e.hasOwnProperty("default")?e["default"]:e).PLUGINS.fullscreen=function(e){function t(){if(e.helpers.isIOS()&&e.core.hasFocus())return e.$el.blur(),setTimeout(o,250),!1;n=e.helpers.scrollTop(),e.$box.toggleClass("fr-fullscreen"),f("body").first().toggleClass("fr-fullscreen"),e.helpers.isMobile()&&(e.$tb.data("parent",e.$tb.parent()),e.$box.prepend(e.$tb),e.$tb.data("sticky-dummy")&&e.$tb.after(e.$tb.data("sticky-dummy"))),i=e.opts.height,a=e.opts.heightMax,l=e.opts.z_index,e.opts.height=e.o_win.innerHeight-(e.opts.toolbarInline?0:e.$tb.outerHeight()+(e.$second_tb?e.$second_tb.outerHeight():0)),e.opts.zIndex=2147483641,e.opts.heightMax=null,e.size.refresh(),e.opts.toolbarInline&&e.toolbar.showInline();for(var t=e.$box.parent();!t.first().is("body");)t.addClass("fr-fullscreen-wrapper"),t=t.parent();e.opts.toolbarContainer&&e.$box.prepend(e.$tb),e.events.trigger("charCounter.update"),e.events.trigger("codeView.update"),e.$win.trigger("scroll")}function r(){if(e.helpers.isIOS()&&e.core.hasFocus())return e.$el.blur(),setTimeout(o,250),!1;e.$box.toggleClass("fr-fullscreen"),f("body").first().toggleClass("fr-fullscreen"),e.$tb.data("parent")&&e.$tb.data("parent").prepend(e.$tb),e.$tb.data("sticky-dummy")&&e.$tb.after(e.$tb.data("sticky-dummy")),e.opts.height=i,e.opts.heightMax=a,e.opts.zIndex=l,e.size.refresh(),f(e.o_win).scrollTop(n),e.opts.toolbarInline&&e.toolbar.showInline(),e.events.trigger("charCounter.update"),e.opts.toolbarSticky&&e.opts.toolbarStickyOffset&&(e.opts.toolbarBottom?e.$tb.css("bottom",e.opts.toolbarStickyOffset).data("bottom",e.opts.toolbarStickyOffset):e.$tb.css("top",e.opts.toolbarStickyOffset).data("top",e.opts.toolbarStickyOffset));for(var t=e.$box.parent();!t.first().is("body");)t.removeClass("fr-fullscreen-wrapper"),t=t.parent();e.opts.toolbarContainer&&f(e.opts.toolbarContainer).append(e.$tb),f(e.o_win).trigger("scroll"),e.events.trigger("codeView.update")}function o(){c()?r():t(),s(e.$tb.find('.fr-command[data-cmd="fullscreen"]'));var o=e.$tb.find('.fr-command[data-cmd="moreText"]'),n=e.$tb.find('.fr-command[data-cmd="moreParagraph"]'),i=e.$tb.find('.fr-command[data-cmd="moreRich"]'),a=e.$tb.find('.fr-command[data-cmd="moreMisc"]');o.length&&e.refresh.moreText(o),n.length&&e.refresh.moreParagraph(n),i.length&&e.refresh.moreRich(i),a.length&&e.refresh.moreMisc(a)}function s(t){var r=c();t.toggleClass("fr-active",r).attr("aria-pressed",r),t.find("> *").not(".fr-sr-only").replaceWith(r?e.icon.create("fullscreenCompress"):e.icon.create("fullscreen"))}var n,i,a,l,f=e.$,c=function(){return e.$box.hasClass("fr-fullscreen")};return{_init:function(){if(!e.$wp)return!1;e.events.$on(f(e.o_win),"resize",function(){c()&&(r(),t())}),e.events.on("toolbar.hide",function(){if(c()&&e.helpers.isMobile())return!1}),e.events.on("position.refresh",function(){if(e.helpers.isIOS())return!c()}),e.events.on("destroy",function(){c()&&r()},!0)},toggle:o,refresh:s,isActive:c}},e.RegisterCommand("fullscreen",{title:"Fullscreen",undo:!1,focus:!1,accessibilityFocus:!0,forcedRefresh:!0,toggle:!0,callback:function(){this.fullscreen.toggle()},refresh:function(e){this.fullscreen.refresh(e)},plugin:"fullscreen"}),e.DefineIcon("fullscreen",{NAME:"expand",SVG_KEY:"fullscreen"}),e.DefineIcon("fullscreenCompress",{NAME:"compress",SVG_KEY:"exitFullscreen"})});